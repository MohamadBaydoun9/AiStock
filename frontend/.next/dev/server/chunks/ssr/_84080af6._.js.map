{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Moustafa%20Baydoun/Documents/projects/gravityProjects/AdvancedPetShop/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Moustafa%20Baydoun/Documents/projects/gravityProjects/AdvancedPetShop/frontend/components/auth-guard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/context/auth-context\";\r\n\r\nexport default function AuthGuard({ children }: { children: React.ReactNode }) {\r\n    const { isAuthenticated, isLoading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!isLoading && !isAuthenticated) {\r\n            router.push(\"/login\");\r\n        }\r\n    }, [isLoading, isAuthenticated, router]);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-screen\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!isAuthenticated) {\r\n        return null;\r\n    }\r\n\r\n    return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACzE,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,sIAAO;IAC9C,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,aAAa,CAAC,iBAAiB;YAChC,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAW;QAAiB;KAAO;IAEvC,IAAI,WAAW;QACX,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAG3B;IAEA,IAAI,CAAC,iBAAiB;QAClB,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Moustafa%20Baydoun/Documents/projects/gravityProjects/AdvancedPetShop/frontend/app/upload/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from 'next/navigation'\nimport Image from \"next/image\"\nimport { Upload, Loader2, CheckCircle2, XCircle, Camera } from 'lucide-react'\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport type { ClassificationResult } from \"@/lib/types\"\nimport { api } from \"@/lib/api\"\nimport AuthGuard from \"@/components/auth-guard\"\n\nexport default function UploadPage() {\n  const router = useRouter()\n  const { toast } = useToast()\n  const [selectedImage, setSelectedImage] = useState<File | null>(null)\n  const [previewUrl, setPreviewUrl] = useState<string>(\"\")\n  const [isClassifying, setIsClassifying] = useState(false)\n  const [classificationResult, setClassificationResult] = useState<ClassificationResult | null>(null)\n\n  const handleImageSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      if (!file.type.startsWith('image/')) {\n        toast({\n          title: \"Invalid file type\",\n          description: \"Please select an image file\",\n          variant: \"destructive\"\n        })\n        return\n      }\n\n      setSelectedImage(file)\n      const url = URL.createObjectURL(file)\n      setPreviewUrl(url)\n      setClassificationResult(null)\n    }\n  }\n\n  const handleUploadAndClassify = async () => {\n    if (!selectedImage) return\n\n    setIsClassifying(true)\n\n    try {\n      const formData = new FormData()\n      formData.append('file', selectedImage) // Backend expects 'file'\n\n      const result = await api.classifyImage(formData)\n\n      setClassificationResult({\n        productName: result.product_name,\n        productType: result.product_type,\n        predictedPrice: result.price_predicted,\n        imageUrl: previewUrl\n      })\n\n      toast({\n        title: \"Classification Complete\",\n        description: `Detected: ${result.product_name}`,\n      })\n    } catch (error) {\n      toast({\n        title: \"Classification Failed\",\n        description: \"Unable to classify the product. Please try again.\",\n        variant: \"destructive\"\n      })\n      console.error('Classification error:', error)\n    } finally {\n      setIsClassifying(false)\n    }\n  }\n\n  const handleRetry = () => {\n    setSelectedImage(null)\n    setPreviewUrl(\"\")\n    setClassificationResult(null)\n  }\n\n  const handleContinue = () => {\n    if (classificationResult) {\n      // Store the classification result in sessionStorage to pass to add-product page\n      sessionStorage.setItem('classificationResult', JSON.stringify({\n        ...classificationResult,\n        imageUrl: previewUrl\n      }))\n      router.push('/add-product')\n    }\n  }\n\n  return (\n    <AuthGuard>\n      <div className=\"container mx-auto px-4 py-8 max-w-4xl\">\n        <div className=\"mb-8 text-center\">\n          <h1 className=\"text-4xl font-bold mb-3 text-balance\">Upload Product Image</h1>\n          <p className=\"text-muted-foreground text-lg text-pretty\">\n            Use AI to automatically classify your product and predict its price\n          </p>\n        </div>\n\n        <div className=\"grid gap-6 lg:grid-cols-2\">\n          {/* Upload Section */}\n          <Card className=\"border-2\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Camera className=\"h-5 w-5 text-primary\" />\n                Image Upload\n              </CardTitle>\n              <CardDescription>\n                Select a clear image of your product\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex flex-col items-center justify-center\">\n                {previewUrl ? (\n                  <div className=\"relative w-full aspect-square rounded-lg overflow-hidden border-2 border-border bg-muted\">\n                    <Image\n                      src={previewUrl || \"/placeholder.svg\"}\n                      alt=\"Selected product\"\n                      fill\n                      className=\"object-cover\"\n                    />\n                  </div>\n                ) : (\n                  <label className=\"flex flex-col items-center justify-center w-full aspect-square border-2 border-dashed border-border rounded-lg cursor-pointer hover:bg-accent/50 transition-colors\">\n                    <div className=\"flex flex-col items-center justify-center py-8\">\n                      <Upload className=\"h-12 w-12 text-muted-foreground mb-4\" />\n                      <p className=\"text-sm font-medium mb-1\">Click to upload</p>\n                      <p className=\"text-xs text-muted-foreground\">PNG, JPG up to 10MB</p>\n                    </div>\n                    <input\n                      type=\"file\"\n                      className=\"hidden\"\n                      accept=\"image/*\"\n                      onChange={handleImageSelect}\n                    />\n                  </label>\n                )}\n              </div>\n\n              {selectedImage && !classificationResult && (\n                <div className=\"space-y-2\">\n                  <Button\n                    onClick={handleUploadAndClassify}\n                    disabled={isClassifying}\n                    className=\"w-full\"\n                    size=\"lg\"\n                  >\n                    {isClassifying ? (\n                      <>\n                        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                        Classifying...\n                      </>\n                    ) : (\n                      <>\n                        <Upload className=\"mr-2 h-4 w-4\" />\n                        Upload & Classify\n                      </>\n                    )}\n                  </Button>\n\n                  <Button\n                    onClick={handleRetry}\n                    variant=\"outline\"\n                    className=\"w-full\"\n                  >\n                    Choose Different Image\n                  </Button>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Results Section */}\n          <Card className={`border-2 ${classificationResult ? 'border-primary bg-primary/5' : ''}`}>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                {classificationResult ? (\n                  <CheckCircle2 className=\"h-5 w-5 text-primary\" />\n                ) : (\n                  <XCircle className=\"h-5 w-5 text-muted-foreground\" />\n                )}\n                Classification Results\n              </CardTitle>\n              <CardDescription>\n                {classificationResult\n                  ? \"AI analysis complete\"\n                  : \"Results will appear here after classification\"}\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              {isClassifying ? (\n                <div className=\"flex flex-col items-center justify-center py-12\">\n                  <Loader2 className=\"h-12 w-12 text-primary animate-spin mb-4\" />\n                  <p className=\"text-sm text-muted-foreground\">Analyzing image with AI...</p>\n                </div>\n              ) : classificationResult ? (\n                <div className=\"space-y-6\">\n                  <div className=\"space-y-3\">\n                    <div className=\"flex justify-between items-center p-3 rounded-lg bg-muted\">\n                      <span className=\"text-sm font-medium text-muted-foreground\">Product Type</span>\n                      <span className=\"font-semibold\">{classificationResult.productType}</span>\n                    </div>\n\n                    <div className=\"flex justify-between items-center p-3 rounded-lg bg-muted\">\n                      <span className=\"text-sm font-medium text-muted-foreground\">Product Name</span>\n                      <span className=\"font-semibold\">{classificationResult.productName}</span>\n                    </div>\n\n                    <div className=\"flex justify-between items-center p-3 rounded-lg bg-primary/10 border border-primary/20\">\n                      <span className=\"text-sm font-medium text-muted-foreground\">Predicted Price</span>\n                      <span className=\"text-xl font-bold text-primary\">\n                        ${classificationResult.predictedPrice.toFixed(2)}\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-col gap-2\">\n                    <Button\n                      onClick={handleContinue}\n                      size=\"lg\"\n                      className=\"w-full\"\n                    >\n                      Continue to Add Product\n                    </Button>\n\n                    <Button\n                      onClick={handleRetry}\n                      variant=\"outline\"\n                      className=\"w-full\"\n                    >\n                      Retry Upload\n                    </Button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n                  <div className=\"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4\">\n                    <Upload className=\"h-8 w-8 text-muted-foreground\" />\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Upload an image to see classification results\n                  </p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </AuthGuard>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}